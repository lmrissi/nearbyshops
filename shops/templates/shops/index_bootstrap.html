{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
    <link href="{% static 'libs/leaflet/leaflet.css' %}" rel="stylesheet">
{% endblock extra_css %}

{% block content %}

<h2 id="titulo_tabela">Lojas mais próximas da sua localização</h2>

{% if shops %}

<table class="table table-striped table-hover" id="shops_table">
    <thead class="thead-dark">
        <tr>
            <th scope="col" id="cabeçalho">Nome da Loja</th>
            <th scope="col" id="cabeçalho">Distância (metros)</th>
        </tr>
    </thead>
    <tbody>
        {% for shop in shops %}
        <tr>
            <td id="conteudo_tabela">{{ shop.name }}</td>
            <td id="conteudo_tabela">{{ shop.distance }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endif %}

<div id="map"></div>
<input type="hidden" id="shops_dataset" value="{% url 'shops_dataset' %}">

{% endblock content %}

{% block extra_js %}
    <script src="{% static 'libs/leaflet/leaflet.js'%}"></script>
    <script src="{% static 'js/leaflet.ajax.js' %}" charset="utf-8"></script>
    <script src="{% static 'js/map.js'%}"></script>    
{% endblock extra_js %}

